{% extends 'ScriptSpeare/base.html' %}
{% load staticfiles %}

{% block head_block %}
<script>
$(document).ready(function() {
	getTranscript('https://s3.eu-west-2.amazonaws.com/scriptspeare-media-files/{{category}}/{{abbr}}/{{interp.0}}-{{interp.1}}-{{interp.2}}-{{interp.3}}-{{interp.4}}-{{interp.5}}.json');
});
</script>
<script src="{% static "javascript/interpretation_main.js" %}"></script>
{% endblock %}

{% block body_block %}
			<div class="row" id="content">
				<div class="col-6" id="content-left">
					<div class="container-fluid">
						<div class="row">
							<div class="col-12">
								<h1>
               						{{play}}<br>
               					</h1>
								<select class="custom-select" onchange="location = this.value;" >
									{% if all_interp %}
							 				<ul>
							 					<option value="">Now viewing: {{ interp.1}},{{interp.2}},{{interp.3}},{{interp.4}},{{interp.5}}</option>
							 					<option value ="" >----------------------</option>
							 				{% for itps in all_interp %}
							 					<option value="{% url 'show_interpretation' category play interp_id %}">{{ itps.1}},{{itps.2}},{{itps.3}},{{itps.4}},{{itps.5}}</option>
							 				{% endfor %}
							 				</ul>
							 			{% else %}
							 				<strong>No plays currently in category.</strong>
										{% endif %}
								</select>
							</div>
							<div class="col-12">
								<video poster="" class="col-12" id="media" style="margin-top: 0;">
									<source type="video/mp4" src="https://s3.eu-west-2.amazonaws.com/scriptspeare-media-files/{{category}}
									/{{abbr}}/{{interp.0}}-{{interp.1}}-{{interp.2}}-{{interp.3}}-{{interp.4}}-{{interp.5}}.mp4">
								</video>
								<div id="overlay_left" class="overlay"><i class="fas fa-arrow-left" onCLick="location.href='{% url 'show_interpretation' category play prev %}'"></i></div>
								<div id="overlay_right" class="overlay"><i class="fas fa-arrow-right" onCLick="location.href='{% url 'show_interpretation' category play next %}'"></i></div>
							</div>
							<div class="col-9 data">
								<b>Lead Actor 1:</b> {{ interp.4 }}</br>
								<b>Lead Actor 2:</b> {{interp.5}}</br>
								<b>Year:</b> {{interp.1}}</br>
								<b>Accent:</b> {{interp.2}}</br>
								<b>Type of adaptation:</b> {{interp.3}}</br>
							</div>
						</div>
					</div>
				</div>
				<div class="col-6" id="content-right">
					<div class="container-fluid">
						<div class="row">
							<div class="col-9 script text-scroll">

							</div>
							<div class="col-3">
								<form class="form">
									<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
								</form>
								<div class="container-fluid" id="more">
									<div class="row">
										<div class="col-8">
											<button class ="side-buttn" onclick="setState('click')">Go to</button>
										</div>
										<div class="col-4">
											<img src="/media/greycircle.png" class="img-fluid">
										</div>
									</div>
									<div class="row">
										<div class="col-8">
											<button class="side-buttn" onclick="">Notes</button>
										</div>
										<div class="col-4">
											<img src="/media/greycircle.png" class="img-fluid">
										</div>
									</div>
									<div class="row">
										<div class="col-8">
											<button class="side-buttn" onclick="setState('select')">Select</button>
										</div>
										<div class="col-4">
											<img src="/media/greycircle.png" class="img-fluid">
										</div>
									</div>
								</div>
								<small class="text-muted">line: 131/465</small>
							</div>
						</div>
					</div>

				</div>
			</div>
{% endblock %}
{% block bar_block%}
			<div  class=" row-centered navbar navbar-expand-lg fixed-bottom " style="height:4em; background-color: black;">
      				<div class="col-12 align-middle bar-icons col-centered">
						<div class="dropup">
							<button class="dropbtn">Playback</button>
							<div class="dropup-content">
								<a href="#" onclick="media.setPlaybackRate(0.5)">0.5</a>
								<a href="#" onclick="media.setPlaybackRate(0.75)">0.75</a>
								<a href="#" onclick="media.setPlaybackRate(1)">Normal</a>
								<a href="#" onclick="media.setPlaybackRate(1.5)">1.5</a>
								<a href="#" onclick="media.setPlaybackRate(2)">2.0</a>
							</div>
						</div>
      					<i id="playbutton" class="fas fa-play-circle bar-button"  style="font-size: 3em;" onclick="togglePauseUI(this, media)"></i>
      					<i class="fas fa-redo bar-button" onclick="media.toggleLoop()"></i>
      				</div>

    		</div>
{% endblock %}
